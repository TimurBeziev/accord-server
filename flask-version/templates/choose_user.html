{% extends 'base_choose_user.html' %}

{% block users %}

<div id="array_users">

<script>
    fetch(`http://localhost:${location.port}/ui/get_available_users`)
        .then((response) => {
            return response.json()
        })
        .then((data) => {
            console.log(data)
            for (var i = 0; i < data.length; ++i) {
                {#TODO make it work#}
                var element = document.createElement("div")
                element.innerHTML = data[i].name
                element.onclick = returnSelectedUser
                element.setAttribute("class", "menu-container")
                element.setAttribute("id", data[i].id)
                element.setAttribute("name", data[i].name)
                console.log(element.toString())
                document.getElementById("array_users").innerHTML += element.toString()
            }
        })

    function returnSelectedUser(object) {
        console.log(object.getAttributeNames())
    }

</script>

{% endblock %}







